\documentclass[sigplan,10pt,review,anonymous]{acmart}
\settopmatter{printfolios=true,printccs=false,printacmref=false}

\acmConference[Submitted to OOPSLA'18]{ACM SIGPLAN Conference on Programming Language Design and Implementation}{June 18--22, 2018}{Philadelphia, PA, USA}

\acmYear{2018}
\acmISBN{} % \acmISBN{978-x-xxxx-xxxx-x/YY/MM}
\acmDOI{} % \acmDOI{10.1145/nnnnnnn.nnnnnnn}
\startPage{1}
\setcopyright{none}

%% Some recommended packages.
%\usepackage{booktabs}   %% For formal tables: http://ctan.org/pkg/booktabs
\usepackage{subcaption} %% For complex figures with subfigures/subcaptions http://ctan.org/pkg/subcaption
%\usepackage[normalem]{ulem}
%\usepackage{float}
\usepackage{soul}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{algorithm} % environment for the algorithm code (like figure and table)
\usepackage{algorithmicx} % write the pseudo code
\usepackage[noend]{algpseudocode} % layout of the pseudo code
\usepackage{tikz} % needed for: tikz pics
\usepackage{xcolor}
\usepackage{xspace}
\usepackage{listings}
\usepackage{hyphenat}

\usepackage{titlesec}

%\titlespacing{\section}{0pt}{0.5\baselineskip}{\parskip}
%\titlespacing{\subsection}{0pt}{0.5\baselineskip}{\parskip}
%\titlespacing{\subsubsection}{0pt}{0.5\baselineskip}{\parskip}
\titlespacing{\section}{2pt}{0.8\baselineskip}{\parskip}
\titlespacing{\subsection}{2pt}{0.6\baselineskip}{\parskip}
\titlespacing{\subsubsection}{2pt}{0.6\baselineskip}{\parskip}

\setlength{\textfloatsep}{5pt}% Remove \textfloatsep

%\usepackage[keeplastbox]{flushend} %Brandon: this broke the build for me
%Added for sub-float package from jpaper.cls - will check later
%\RequirePackage[font={normalsize,sf,bf}]{caption}
%\RequirePackage[position=bottom]{subfig}
%\captionsetup[table]{aboveskip=0.5em, belowskip=0.5em}
%\captionsetup[figure]{aboveskip=0.5em, belowskip=0em}
\captionsetup[subfloat]{font={small,sf}}

\hypersetup{colorlinks=false,linkcolor=blue,urlcolor=blue}

\newlength{\sectionbelowskip}
\newlength{\sectionaboveskip}
\newlength{\subsectionbelowskip}
\newlength{\subsectionaboveskip}
\newlength{\paragraphaboveskip}

% Defaults in sigplanconf (note that horizontal space after \paragraph heading will be different):
%\setlength{\sectionbelowskip}{4pt}
%\setlength{\sectionaboveskip}{10pt plus 3pt minus 2pt}
%\setlength{\subsectionbelowskip}{4pt}
%\setlength{\subsectionaboveskip}{8pt plus 2pt minus 2pt}
%\setlength{\paragraphaboveskip}{6pt plus 2pt minus 2pt}

% Slightly tighter than defaults:
% \setlength{\sectionbelowskip}{3pt}
% \setlength{\sectionaboveskip}{6pt plus 2pt minus 2pt}
% \setlength{\subsectionbelowskip}{2pt}
% \setlength{\subsectionaboveskip}{4pt plus 1pt minus 1pt}
% \setlength{\paragraphaboveskip}{2pt plus 1pt minus 1pt}

\algnewcommand{\LeftComment}[2][.5\linewidth]{%
  \leavevmode\makebox[#1][l]{$\triangleright$~#2}\hfill}

% Tighter than defaults:
%\setlength{\sectionbelowskip}{1pt}
\setlength{\sectionbelowskip}{4pt}
\setlength{\sectionaboveskip}{5pt plus 1.5pt minus 1.5pt}
\setlength{\subsectionbelowskip}{1pt}
\setlength{\subsectionaboveskip}{3pt plus 1pt minus 1pt}
\setlength{\paragraphaboveskip}{1pt plus 1pt minus 1pt}

\newcommand{\TODO}[1]{{\bf \em \textcolor{red}{TODO: #1}\xspace}}
\newcommand{\todo}[2]{\textcolor{red}{$\bullet$ \textbf{Task:} #1; \textbf{Responsible:} #2}}
\newcommand{\add}[1]{\textcolor{blue}{#1}}
\newcommand{\remove}[1]{\textcolor{red}{\st{#1}}}
\newcommand{\replace}[2]{\remove{#1} \add{#2}}

\newcommand{\transition}{{\tt next\_task}\xspace}
\newcommand{\sys}{Coala\xspace}
\newcommand{\sysmed}{\sys: Adaptive Task Coalescing $\ldots$}
\newcommand{\sysfull}{\sys: Adaptive Task Coalescing for Intermittent Computing on Energy-harvesting Devices}
%newcommand{\sysfull}{\sys: Efficient Task-based Intermittent Computing with Adaptive Task Coalescing and Memory Virtualization} %Old title

\begin{document}

\title[\sysmed]{\sysfull}

%Note: order of authors placed randomly

%\author{Kiwan Maeng}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Carnegie Mellon University}
%	\streetaddress{4720 Forbes Avenue}
%   \city{Pittsburgh} 
%	\state{PA} 
%	\postcode{15213}
%}
%\email{kmaeng@andrew.cmu.edu}

%\author{Alexei Colin}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Carnegie Mellon University}
%	\streetaddress{4720 Forbes Avenue}
%	\city{Pittsburgh} 
%	\state{PA} 
%	\postcode{15213}
%}
%\email{acolin@andrew.cmu.edu}

%\author{Brandon Lucia}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Carnegie Mellon University}
%	\streetaddress{4720 Forbes Avenue}
%	\city{Pittsburgh} 
%	\state{PA} 
%	\postcode{15213}
%}
%\email{blucia@andrew.cmu.edu}

%\author{Amjad Yousef Majid}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Delft University of Technology}
%	\streetaddress{Mekelweg 4}
%	\city{Delft, The Netherlands} 
%	\state{Zuid Holland} 
%	\postcode{2628\,CD}
%}
%\email{a.y.majid@tudelft.nl}

%\author{Kas{\i}m Sinan Y{\i}ld{\i}r{\i}m}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Delft University of Technology}
%	\streetaddress{Mekelweg 4}
%	\city{Delft, The Netherlands} 
%	\state{Zuid Holland} 
%	\postcode{2628\,CD}
%}
%\email{k.s.yildirim@tudelft.nl}

%\author{Przemys{\l}aw Pawe{\l}czak}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Delft University of Technology}
%	\streetaddress{Mekelweg 4}
%	\city{Delft, The Netherlands} 
%	\state{Zuid Holland} 
%	\postcode{2628\,CD}
%}
%\email{p.pawelczak@tudelft.nl}

%\renewcommand{\shortauthors}{A. Y. Majid et al.}

\begin{abstract}
	
\input{abstract}

\end{abstract}

% The code below should be generated by the tool at 
%http://dl.acm.org/ccs.cfm Please copy and paste the code instead of the 
%example below. 

%\begin{CCSXML}
%	<ccs2012>
%	<concept>
%	<concept_id>10010520.10010553.10010562.10010564</concept_id>
%	<concept_desc>Computer systems organization~Embedded 
%	software</concept_desc>
%	<concept_significance>500</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10010520.10010575.10010578</concept_id>
%	<concept_desc>Computer systems organization~Availability</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10011007.10010940.10010941.10010949.10010957.10010688</concept_id>
%	<concept_desc>Software and its engineering~Scheduling</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10011007.10010940.10010941.10010949.10010965</concept_id>
%	<concept_desc>Software and its engineering~Communications 
%	management</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10011007.10010940.10010971.10010564</concept_id>
%	<concept_desc>Software and its engineering~Embedded 
%	software</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	</ccs2012>
%\end{CCSXML}

%\ccsdesc[500]{Computer systems organization~Embedded software}
%\ccsdesc[300]{Computer systems organization~Availability}
%\ccsdesc[300]{Software and its engineering~Scheduling}
%\ccsdesc[300]{Software and its engineering~Communications management}
%\ccsdesc[300]{Software and its engineering~Embedded software}

%\keywords{Energy harvesting, transient operation, operating system}

\maketitle

\section{Introduction}
\label{sec:intro}

\input{intro}

\section{Intermittent Computing: Background}
\label{sec:background}

\input{background}

\section{\sys: System Overview}
\label{sec:overall_system}

\input{systemdescription}

\section{Task Coalescing}
\label{sec:task_coalescing}

\input{coalescing}
% \input{newCoalescing}

\section{Memory Virtualization}
\label{sec:memory_virtulaization}

\input{paging}

\section{Automatic Task Generation}
\label{sec:compiler}

\input{compiler}

%\section{Discussion}
%\label{sec:discussion}

%\input{discussion}

\section{Methodology and Evaluation}
\label{sec:methodology_evaluation}

\input{evaluation}

\section{Related Work}
\label{sec:related_work}

\input{relatedwork}

\section{Conclusions}
\label{sec:conclusions}

\input{conclusions}

\bibliographystyle{ACM-Reference-Format}
%\bibliographystyle{plain}
\bibliography{bib}

\end{document}
