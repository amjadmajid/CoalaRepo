%\documentclass[sigconf,anonymous,review]{acmart}
%\documentclass[pageno]{jpaper}
\documentclass[sigplan,10pt,review,anonymous]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}

%replace XXX with the submission number you are given from the ASPLOS submission site.
\newcommand{\asplossubmissionnumber}{39}

\usepackage[normalem]{ulem}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{algorithm} % environment for the algorithm code (like figure and table)
\usepackage{algorithmicx} % write the pseudo code
\usepackage[noend]{algpseudocode} % layout of the pseudo code
\usepackage{tikz} % needed for: tikz pics
\usepackage{xcolor}
\usepackage{xspace}
%\usepackage{tikz}
\usepackage{listings}
%\usepackage{float}
%Brandon: this broke the build for me
%\usepackage[keeplastbox]{flushend}

%%Added for sub-float package from jpaper.cls - will check later

\RequirePackage[font={normalsize,sf,bf}]{caption}
\RequirePackage[position=bottom]{subfig}
\captionsetup[table]{aboveskip=0.5em, belowskip=0.5em}
\captionsetup[figure]{aboveskip=0.5em, belowskip=0em}
\captionsetup[subfloat]{font={small,sf}}

\hypersetup{colorlinks=false,linkcolor=blue,urlcolor=blue}
\urlstyle{rm}
\linespread{0.98}

\newlength{\sectionbelowskip}
\newlength{\sectionaboveskip}
\newlength{\subsectionbelowskip}
\newlength{\subsectionaboveskip}
\newlength{\paragraphaboveskip}

% Defaults in sigplanconf (note that horizontal space after \paragraph heading will be different):
%\setlength{\sectionbelowskip}{4pt}
%\setlength{\sectionaboveskip}{10pt plus 3pt minus 2pt}
%\setlength{\subsectionbelowskip}{4pt}
%\setlength{\subsectionaboveskip}{8pt plus 2pt minus 2pt}
%\setlength{\paragraphaboveskip}{6pt plus 2pt minus 2pt}

% Slightly tighter than defaults:
% \setlength{\sectionbelowskip}{3pt}
% \setlength{\sectionaboveskip}{6pt plus 2pt minus 2pt}
% \setlength{\subsectionbelowskip}{2pt}
% \setlength{\subsectionaboveskip}{4pt plus 1pt minus 1pt}
% \setlength{\paragraphaboveskip}{2pt plus 1pt minus 1pt}

% Tighter than defaults:
 \setlength{\sectionbelowskip}{1pt}
 \setlength{\sectionaboveskip}{5pt plus 1.5pt minus 1.5pt}
 \setlength{\subsectionbelowskip}{1pt}
 \setlength{\subsectionaboveskip}{3pt plus 1pt minus 1pt}
 \setlength{\paragraphaboveskip}{1pt plus 1pt minus 1pt}

%\usepackage{natbib}
%\usepackage{graphicx}
%\usepackage{subfigure}
%\usepackage[inline]{enumitem}

\newcommand{\TODO}[1]{{\bf \em \textcolor{red}{TODO: #1}\xspace}}
\newcommand{\todo}[2]{\textcolor{red}{$\bullet$ \textbf{Task:} #1; \textbf{Responsible:} #2}}

\newcommand{\sys}{Coala\xspace}
\newcommand{\transition}{{\tt next\_task}\xspace}

%Title Options (Brandon: your call which one)
%\newcommand{\sysfull}{VIPER: Virtualised Intermittent Programming model, Execution model, and Runtime environment}
%\newcommand{\sysfull}{VIPER: Virtualized Intermittently-Powered Execution Runtime}
%\newcommand{\sysfull}{PREVIEW: Programming and Runtime Environment with Virtualised Intermittent Execution Windows}
%\newcommand{\sysfull}{VIPE: Virtualized Intermittently-Powered Execution}
\newcommand{\sysfull}{\sys: Efficient Task-based Intermittent Computing with Adaptive Task Coalescing and Memory Virtualization}

%\setcopyright{rightsretained}

%\acmDOI{http://dx.doi.org/xx.xxxx/xxxxxxx.xxxxxxx}

%\acmISBN{978-1-xxxx-xxxx-x/17/11}

%\acmConference[ASPLOS]{The 23rd ACM International Conference on Architectural Support for Programming Languages and Operating Systems}{March 24--28, 2017}{Williamsburg, VA, USA}

%\acmYear{2017}

%\copyrightyear{2017}

%\acmPrice{15.00}

\begin{document}

\title{\sysfull}

%Note: order of authors placed randomly

%\author{Kiwan Maeng}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Carnegie Mellon University}
%	\streetaddress{4720 Forbes Avenue}
%\city{Pittsburgh} 
%	\state{PA} 
%	\postcode{15213}
%}
%\email{kmaeng@andrew.cmu.edu}

%\author{Alexei Colin}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Carnegie Mellon University}
%	\streetaddress{4720 Forbes Avenue}
%	\city{Pittsburgh} 
%	\state{PA} 
%	\postcode{15213}
%}
%\email{acolin@andrew.cmu.edu}

%\author{Brandon Lucia}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Carnegie Mellon University}
%	\streetaddress{4720 Forbes Avenue}
%	\city{Pittsburgh} 
%	\state{PA} 
%	\postcode{15213}
%}
%\email{blucia@andrew.cmu.edu}

%\author{Amjad Yousef Majid}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Delft University of Technology}
%	\streetaddress{Mekelweg 4}
%	\city{Delft, The Netherlands} 
%	\state{Zuid Holland} 
%	\postcode{2628\,CD}
%}
%\email{a.y.majid@tudelft.nl}

%\author{Kas{\i}m Sinan Y{\i}ld{\i}r{\i}m}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Delft University of Technology}
%	\streetaddress{Mekelweg 4}
%	\city{Delft, The Netherlands} 
%	\state{Zuid Holland} 
%	\postcode{2628\,CD}
%}
%\email{k.s.yildirim@tudelft.nl}

%\author{Przemys{\l}aw Pawe{\l}czak}
%\authornote{}
%\orcid{}
%\affiliation{%
%	\institution{Delft University of Technology}
%	\streetaddress{Mekelweg 4}
%	\city{Delft, The Netherlands} 
%	\state{Zuid Holland} 
%	\postcode{2628\,CD}
%}
%\email{p.pawelczak@tudelft.nl}

%\renewcommand{\shortauthors}{A. Y. Majid et al.}

\date{}
\maketitle

\thispagestyle{empty}

\begin{abstract}
	
\input{abstract}

\end{abstract}

% The code below should be generated by the tool at 
%http://dl.acm.org/ccs.cfm Please copy and paste the code instead of the 
%example below. 

%\begin{CCSXML}
%	<ccs2012>
%	<concept>
%	<concept_id>10010520.10010553.10010562.10010564</concept_id>
%	<concept_desc>Computer systems organization~Embedded 
%	software</concept_desc>
%	<concept_significance>500</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10010520.10010575.10010578</concept_id>
%	<concept_desc>Computer systems organization~Availability</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10011007.10010940.10010941.10010949.10010957.10010688</concept_id>
%	<concept_desc>Software and its engineering~Scheduling</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10011007.10010940.10010941.10010949.10010965</concept_id>
%	<concept_desc>Software and its engineering~Communications 
%	management</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	<concept>
%	<concept_id>10011007.10010940.10010971.10010564</concept_id>
%	<concept_desc>Software and its engineering~Embedded 
%	software</concept_desc>
%	<concept_significance>300</concept_significance>
%	</concept>
%	</ccs2012>
%\end{CCSXML}

%\ccsdesc[500]{Computer systems organization~Embedded software}
%\ccsdesc[300]{Computer systems organization~Availability}
%\ccsdesc[300]{Software and its engineering~Scheduling}
%\ccsdesc[300]{Software and its engineering~Communications management}
%\ccsdesc[300]{Software and its engineering~Embedded software}

%\keywords{Energy harvesting, transient operation, operating system}

\section{Introduction}
\label{sec:intro}

\input{intro}

\section{Intermittent Computation: Background}
\label{sec:background}

\input{background}

\section{\sys: System Overview}
\label{sec:overall_system}

\input{systemdescription}

\section{\sys Automatic Task Generation}
\label{sec:compiler}

\input{compiler}

\section{\sys Memory Virtualization}
\label{sec:memory_virtulaization}

\input{paging}

\section{\sys Task Coalescing}
\label{sec:task_coalescing}

\input{coalescing}

%\section{Discussion}
%\label{sec:discussion}

%\input{discussion}

\section{Methodology and Evaluation}
\label{sec:methodology_evaluation}

\input{evaluation}

\section{Related Work}
\label{sec:related_work}

\input{relatedwork}

\section{Conclusions}
\label{sec:conclusions}

\input{conclusions}

%\newpage

% The intermittent execution is cumulative discrete process. The intermittent execution model is only able to execute a few number of instructions, as compared to the conventional (continuous) model, before its progress is terminated. Therefore, the intermittent execution model adapts an execution progress state saving mechanism. This mechanism is realized either by means of a checkpoint~\cite{}, where all the context of the program is saved into non-volatile memory. Or 

% This progress state saving mechanism is normally injected into a program either by a compiler~\cite{}. A compiler injects trigger pointers to checkpoint (save) the context of the program into the non-volatile memory.  or it is added by a programmer~\cite{chain}. [compare these two approaches]...

\bibliographystyle{plain}
\bibliography{bib}

\end{document}
